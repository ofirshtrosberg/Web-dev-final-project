<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Chic et unique</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Sofia">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
    <link rel="stylesheet" href="../css/pageFrame.css">
    <link rel="stylesheet" href="/css/account.css">
    <link rel="stylesheet" href="/css/adminPanel.css">
    <link rel="stylesheet" href="../css/twitter.css">
    <link href="//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css" rel="stylesheet">
    <script src="https://use.fontawesome.com/3c06b0785b.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/imask/6.4.3/imask.js"></script>
    <script src="https://kit.fontawesome.com/b4cf3c29ec.js" crossorigin="anonymous"></script>
</head>


<body>
    <%- include('header.ejs') %>
        <main>
            <div class="profile_container">
                <div class="inner-profile-container adminPanel" id="admin_<%= user %>">
                    <div class="row">
                        <div class="col-sm">
                            <h4 class="profile_title">Admin Panel</h4>
                        </div>
                    </div>
                    <div class="row">
                        <ul class="nav justify-content-center">
                            <li class="nav-item">
                                <a class="nav-link profile_nav_link nav_admin chosen_nav_link profile_title"
                                    id="categories" aria-current="page" href="#">Categories</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link profile_nav_link nav_admin profile_title" id="products"
                                    href="#">Products</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link profile_nav_link nav_admin profile_title" id="users"
                                    href="#">Users</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link profile_nav_link nav_admin profile_title" id="socialMedia"
                                    href="#">Social media</a>
                            </li>
                        </ul>
                        <hr class="solid">
                    </div>
                    <div class="container" id="categoriesContainer">
                        <div class="list-group displayCategoriesList row"></div>
                        <div class="row">
                            <div class="col col-5">
                                <input type="text" id="addCategory" placeholder="New Category"
                                    class="form-control row site_input">
                            </div>
                        </div>
                    </div>
                    <div class="container" id="productsContainer">
                        <div class="list-group categoryList"></div>
                    </div>
                    <div class="container" id="usersContainer">
                        <div class="profile_title" id="users_msg">Here you can grant admin permissions for a user</div>
                        <div class="mt-2" id="usersTable">
                            <table class="table">
                                <thead>
                                <tr>
                                    <th scope="col">#</th>
                                    <th scope="col">Username</th>
                                    <th scope="col">Password</th>
                                    <th scope="col">Is Admin</th>
                                </tr>
                                </thead>
                                <tbody id="usersTableBody">
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div class="container" id="socialMediaContainer">
                        <%- include('../public/html/twitter.html') %>
                        <hr class="solid mt-4">
                    </div>
                </div>
            </div>

        </main>
        <%- include('footer.ejs') %>
            <script src="https://code.jquery.com/jquery-3.6.1.js"
                integrity="sha256-3zlB5s2uwoUzrXK3BT7AX3FyvojsraNFxCc2vC/7pNI=" crossorigin="anonymous"></script>
            <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
                integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
                crossorigin="anonymous"></script>
            <script src="/js/pageFrame.js"></script>
            <script src="/js/adminPanel.js"></script>
            <script src="/js/account.js"></script>
            <script src="/js/twitter.js"></script>
            <script src="/js/common.js"></script>
</body>

</html>

<script id="listItemCategoryTemplate" type="text/html">
    <div class="list-group-item list-group-item-action categoryItem" id="{category}">
        <i class="arrowIcon fa-solid fa-circle-chevron-right bold_item"></i>
        <a role="button" data-toggle="collapse" data-target="#{category}Products" aria-expanded="false" aria-controls="{category}Products">
            {category}        
        </a>
        <i class="fas fa-plus bold_item pull-right addProduct" id="addProduct_{category}"></i>
    </div>
    
    <div class="list-group collapse" id="{category}Products"></div>
</script>

<script id="listItemProductTemplate" type="text/html">
    <div class="list-group-item list-group-item-action productItem" id="{_id}">
        <a role="button">{name}</a>
    </div>
    <div class="collapse" id="productDetails_{_id}"></div>
</script>

<script id="productDisplayTemplate" type="text/html">
    <div class="productContainer container" id="display_{_id}">
    <div class="row">
        <div class="col col-4">
            <i class="icon-edit bold_item edit_credit_card_info" id="edit_{_id}"></i> 
            <i class="fa fa-trash bold_item" id="delete_{_id}" aria-hidden="true"></i>
        </div>
    </div>
    <div class="row">
        <div class="col col-4">
            <img src="{imgUrl}" alt="product" class="productImg">
        </div>
        <div class="col col-4">
            <div class="col col-2 field_name">Name</div>
            <div class="col col-5">
                {name}
            </div>
        </div>
        <div class="col col-4">
            <div class="col col-2 field_name">Price</div>
            <div class="col col-2">
                {price}
            </div>
        </div>
        <div class="col col-4">
            <div class="col col-2 field_name">Color</div>
            <div class="col col-2">
                {color}
            </div>
        </div>
        <div class="col col-6">
            <div class="col col-2 field_name">Description</div>
            <div class="col col-4">
                {description}
            </div>
        </div>
        <div class="col col-6">
            <div class="col col-4 field_name">Is available</div>
            <div class="col col-4">
                {isAvailable}
            </div>
        </div>
    </div>
    </div>
</script>

<script id="createOrEditProductModalTemplate" type="text/html">
    <div class="modal fade" id="{createOrEdit}ProductModal_{_id}" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title profile_title" id="{{createOrEdit}}ProductTitle">{createOrEdit} Product</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close" id="close_{_id}">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body container">
                    <div class="form-group">
                        <label class="col-form-label">Name:</label>
                        <input type="text" class="form-control" id="{createOrEdit}productName{_id}" value="{name}">
                    </div>
                    <div class="form-group">
                        <label class="col-form-label">Color:</label>
                        <input type="text" class="form-control" id="{createOrEdit}Color{_id}" value="{color}">
                    </div>
                    <div class="form-group">
                        <label class="col-form-label">Price:</label>
                        <input type="text" class="form-control" id="{createOrEdit}Price{_id}" value="{price}">
                    </div>
                    <div class="form-group">
                        <label class="col-form-label">Description:</label>
                        <textarea class="form-control" id="{createOrEdit}Description{_id}">{description}</textarea>
                    </div>
                    <div class="form-group row">
                        <div class="col col-3">
                            Is Available:
                        </div>
                        <div class="col col-1">
                            <input class="form-check-input" type="checkbox" id="{createOrEdit}IsAvailable{_id}">                            
                        </div>
                    </div>
                <div class="modal-footer mt-2">
                    <div class="bold_item edit_product_msg_placeholder"></div>
                    <button type="button" class="btn btn-dark btn-md btn-block" id="send_{_id}">{createOrEdit}</button>
                    <div class="uploadImageContainer container">
                        <form method="post" action="" enctype="multipart/form-data" class="uploadImgForm">
                            <div class="row">
                                <div class="col col-8">
                                    Would you like to upload an image?
                                </div>
                            </div>
                            <div class="row">
                                <div class="col col-8">
                                    <input class="form-control" type="file" name="image" id="file" />
                                </div>
                                <div class="col col-2 pb-2">
                                    <button type="submit" name="upload" id="uploadFile" class="btn btn-dark btn-md btn-block">Upload</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

</script>

<script id="displayCategoriesItemTemplate" type="text/html">
    <div class="list-group-item list-group-item-action categoryItem" id="{category}">
        <a>{category}</a>
        <i class="fa fa-trash bold_item pull-right" id="delete_{category}"></i>
    </div>
</script>

<script id="usersTableRowTemplate" type="text/html">
    <tr>
        <th scope="row">{i}</th>
        <td>{username}</td>
        <td>******</td>
        <td><input class="form-check-input isAdminCheckbox" type="checkbox" id="isAdmin_{_id}"></td>
    </tr>
</script>

<script src="/js/common.js"></script>